bool IsFirstBuyOpen()
{
    double tolerance = 5 * _Point; // ยอมให้ต่างกัน 5 จุด
    for(int i=0;i<PositionsTotal();i++)
    {
        if(PositionSelectByIndex(i))
        {
            if(PositionGetInteger(POSITION_TYPE) == POSITION_TYPE_BUY)
            {
                double openPrice = PositionGetDouble(POSITION_PRICE_OPEN);
                if(MathAbs(openPrice - lastBuyPrice1) <= tolerance)
                    return true; // ไม้แรกยังเปิดอยู่
            }
        }
    }
    return false;
}
